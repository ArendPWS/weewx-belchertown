#errorCatcher Echo
#encoding UTF-8
#set global $page = "graphs"

    #include "header.html.tmpl"

    <div class="site-inner">
        <div class="content-sidebar-wrap">
            <main class="content">	
                <article class="weewx graphs page type-page status-publish entry" itemscope itemtype="https://schema.org/CreativeWork">
                    <div class="entry-content" itemprop="text">

                        <script type="text/javascript">
                            // Document ready calls        
                            jQuery(document).ready(function() {

                                daily(); // Initial load daily highcharts
                                jQuery(".chart_day").show();
    
                                jQuery('button.wx-btn-today').click(function() {
                                    daily(); // Load daily highcharts
                                    jQuery(".wx-graph-text").text("today");
                                    jQuery(".chart_day").show();
                                    jQuery(".chart_week").hide();
                                    jQuery(".chart_month").hide();
                                    jQuery(".chart_year").hide();
                                });
                                
                                jQuery('button.wx-btn-week').click(function() {
                                    weekly(); // Load weekly highcharts
                                    jQuery(".wx-graph-text").text("this week");
                                    jQuery(".chart_day").hide();
                                    jQuery(".chart_week").show();
                                    jQuery(".chart_month").hide();
                                    jQuery(".chart_year").hide();
                                });
                                
                                jQuery('button.wx-btn-month').click(function() {
                                    monthly(); // Load monthly highcharts
                                    jQuery(".wx-graph-text").text("this month");
                                    jQuery(".chart_day").hide();
                                    jQuery(".chart_week").hide();
                                    jQuery(".chart_month").show();
                                    jQuery(".chart_year").hide();
                                });
                                
                                jQuery('button.wx-btn-year').click(function() {
                                    yearly(); // Load yearly highcharts
                                    jQuery(".wx-graph-text").text("this year");
                                    jQuery(".chart_day").hide();
                                    jQuery(".chart_week").hide();
                                    jQuery(".chart_month").hide();
                                    jQuery(".chart_year").show();
                                });
                            });
                                
                        </script>
                        
                        #include "page-header.inc"

                        <!-- Begin row -->
                        <div class="row">
                            <div class="col-sm-12 wx-buttons">
                                <button type="button" class="btn btn-primary wx-btn-today">Today</button> <button type="button" class="btn btn-primary wx-btn-week">Week</button> <button type="button" class="btn btn-primary wx-btn-month">Month</button> <button type="button" class="btn btn-primary wx-btn-year">Year</button>
                            </div>
                            <div class="col-sm-12 wx-buttons-description">
                                Graphs for <span class='wx-graph-text'>today</span>
                            </div>
                        </div>
                        <!-- End row -->
                        
                        #for $timespan in $charts
                        
                        #for $plotname in $charts[$timespan]
                        <div id="$timespan$plotname" class="chart_$timespan" style="width:100%; height:350px; display:none;"></div>
                        #end for
                        
                        #end for
                        
                        <div class="clear"></div>
                    
                    </div>
                </article>
            </main>
        </div>
    </div>


    #include "footer.html.tmpl"

